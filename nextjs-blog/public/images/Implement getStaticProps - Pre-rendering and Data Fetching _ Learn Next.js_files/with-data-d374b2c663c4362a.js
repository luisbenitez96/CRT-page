(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7051],{8809:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn/basics/data-fetching/with-data",function(){return t(19591)}])},19591:function(e,n,t){"use strict";t.r(n),t.d(n,{meta:function(){return u},default:function(){return N}});var a=t(24246),o=t(27378),s=t(65977),r=t(8990),p=t(75691);function c(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function l(e,n){return!n||"object"!==h(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var h=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u={title:"Pre-rendering and Data Fetching",courseId:"basics",lessonId:"data-fetching",stepId:"with-data",subtitle:"Static Generation with and without Data"},f={meta:u},N=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=l(this,i(n).call(this,e))).layout=function(e){var n=e.children;return(0,a.jsx)(r.Z,{meta:u,children:n})},t}var t,o,h;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(n,e),t=n,(o=[{key:"render",value:function(){var e=this.props,n=e.components,t=m(e,["components"]);return(0,a.jsxs)(s.XJ,{name:"wrapper",Layout:this.layout,layoutProps:Object.assign({},f,t),components:n,children:[(0,a.jsxs)(s.XJ,{name:"p",components:n,children:[(0,a.jsx)(s.XJ,{name:"a",components:n,parentName:"p",props:{href:"/docs/basic-features/pages#static-generation-recommended"},children:"Static Generation"})," can be done with and without data."]}),(0,a.jsx)(s.XJ,{name:"p",components:n,children:"So far, all the pages we\u2019ve created do not require fetching external data. Those pages will automatically be statically generated when the app is built for production."}),(0,a.jsx)(p.Z,{shadow:!0,alt:"Static Generation without Data",oversize:!1,src:"/static/images/learn/data-fetching/static-generation-without-data.png",width:623,height:392}),(0,a.jsxs)(s.XJ,{name:"p",components:n,children:["However, for some pages, you might not be able to render the HTML without first fetching some external data. Maybe you need to access the file system, fetch external API, or query your database at build time. Next.js supports this case \u2014 ",(0,a.jsxs)(s.XJ,{name:"a",components:n,parentName:"p",props:{href:"https://nextjs.org/docs/basic-features/pages#static-generation-with-data"},children:["Static Generation ",(0,a.jsx)(s.XJ,{name:"strong",components:n,parentName:"a",children:"with data"})]})," \u2014 out of the box."]}),(0,a.jsx)(p.Z,{shadow:!0,alt:"Static Generation with Data",oversize:!1,src:"/static/images/learn/data-fetching/static-generation-with-data.png",width:623,height:525}),(0,a.jsxs)(s.XJ,{name:"h3",components:n,children:["Static Generation with Data using ",(0,a.jsx)(s.XJ,{name:"inlineCode",components:n,parentName:"h3",children:"getStaticProps"})]}),(0,a.jsxs)(s.XJ,{name:"p",components:n,children:["How does it work? Well, in Next.js, when you export a page component, you can also export an ",(0,a.jsx)(s.XJ,{name:"inlineCode",components:n,parentName:"p",children:"async"})," function called ",(0,a.jsx)(s.XJ,{name:"a",components:n,parentName:"p",props:{href:"/docs/basic-features/data-fetching#getstaticprops-static-generation"},children:(0,a.jsx)(s.XJ,{name:"inlineCode",components:n,parentName:"a",children:"getStaticProps"})}),". If you do this, then:"]}),(0,a.jsxs)(s.XJ,{name:"ul",components:n,children:[(0,a.jsxs)(s.XJ,{name:"li",components:n,parentName:"ul",children:[(0,a.jsx)(s.XJ,{name:"a",components:n,parentName:"li",props:{href:"/docs/basic-features/data-fetching#getstaticprops-static-generation"},children:(0,a.jsx)(s.XJ,{name:"inlineCode",components:n,parentName:"a",children:"getStaticProps"})})," runs at build time in production, and\u2026"]}),(0,a.jsx)(s.XJ,{name:"li",components:n,parentName:"ul",children:"Inside the function, you can fetch external data and send it as props to the page."})]}),(0,a.jsx)(s.XJ,{name:"pre",components:n,props:{className:"language-jsx"},children:(0,a.jsxs)(s.XJ,{name:"code",components:n,parentName:"pre",props:{className:"language-jsx"},children:[(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token keyword module"},children:"export"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token keyword module"},children:"default"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token keyword"},children:"function"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token function"},children:(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"span",props:{className:"token maybe-class-name"},children:"Home"})}),(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token parameter"},children:"props"}),(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:"{"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token spread operator"},children:"..."})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n\n",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token keyword module"},children:"export"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token keyword"},children:"async"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token keyword"},children:"function"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token function"},children:"getStaticProps"}),(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:"("}),(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:")"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n  ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token comment"},children:"// Get external data from the file system, API, DB, etc."}),"\n  ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token keyword"},children:"const"})," data ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token operator"},children:"="})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token spread operator"},children:"..."}),"\n\n  ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token comment"},children:"// The value of the `props` key will be"}),"\n  ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token comment"},children:"//  passed to the `Home` component"}),"\n  ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token keyword"},children:"return"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:"{"}),"\n    props",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:":"})," ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token spread operator"},children:"..."}),"\n  ",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n",(0,a.jsx)(s.XJ,{name:"span",components:n,parentName:"code",props:{className:"token punctuation"},children:"}"}),"\n"]})}),(0,a.jsxs)(s.XJ,{name:"p",components:n,children:["Essentially, ",(0,a.jsx)(s.XJ,{name:"a",components:n,parentName:"p",props:{href:"/docs/basic-features/data-fetching#getstaticprops-static-generation"},children:(0,a.jsx)(s.XJ,{name:"inlineCode",components:n,parentName:"a",children:"getStaticProps"})})," allows you to tell Next.js: ",(0,a.jsx)(s.XJ,{name:"em",components:n,parentName:"p",children:"\u201cHey, this page has some data dependencies \u2014 so when you pre-render this page at build time, make sure to resolve them first!\u201d"})]}),(0,a.jsx)(s.XJ,{name:"blockquote",components:n,children:(0,a.jsxs)(s.XJ,{name:"p",components:n,parentName:"blockquote",children:[(0,a.jsx)(s.XJ,{name:"strong",components:n,parentName:"p",children:"Note"}),": In development mode, ",(0,a.jsx)(s.XJ,{name:"a",components:n,parentName:"p",props:{href:"/docs/basic-features/data-fetching#getstaticprops-static-generation"},children:(0,a.jsx)(s.XJ,{name:"inlineCode",components:n,parentName:"a",children:"getStaticProps"})})," runs on each request instead."]})}),(0,a.jsxs)(s.XJ,{name:"h3",components:n,children:["Let\u2019s Use ",(0,a.jsx)(s.XJ,{name:"inlineCode",components:n,parentName:"h3",children:"getStaticProps"})]}),(0,a.jsxs)(s.XJ,{name:"p",components:n,children:["It\u2019s easier to learn by doing, so starting from the next page, we\u2019ll use ",(0,a.jsx)(s.XJ,{name:"a",components:n,parentName:"p",props:{href:"/docs/basic-features/data-fetching#getstaticprops-static-generation"},children:(0,a.jsx)(s.XJ,{name:"inlineCode",components:n,parentName:"a",children:"getStaticProps"})})," to implement our blog."]})]})}}])&&c(t.prototype,o),h&&c(t,h),n}(o.Component);N.isMDXComponent=!0}},function(e){e.O(0,[9774,4442,7879,6337,7835,3502,7769,5691,2888,179],(function(){return n=8809,e(e.s=n);var n}));var n=e.O();_N_E=n}]);